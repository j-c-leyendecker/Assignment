#include <iostream>
using namespace std;

struct Node {
    int data;
    Node *next;
};

Node *head = NULL;

void insertEnd(int x) {
    Node *t = new Node;
    t->data = x;
    t->next = NULL;

    if (head == NULL) {
        head = t;
        return;
    }

    Node *p = head;
    while (p->next != NULL)
        p = p->next;

    p->next = t;
}

int findMiddle() {
    if (head == NULL) return -1;

    Node *slow = head;
    Node *fast = head;

    while (fast != NULL && fast->next != NULL) {
        slow = slow->next;
        fast = fast->next->next;
    }

    return slow->data;
}

int main() {
    insertEnd(1);
    insertEnd(2);
    insertEnd(3);
    insertEnd(4);
    insertEnd(5);

    cout << findMiddle();
}
